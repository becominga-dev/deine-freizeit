<!--     >>> jasascript code fÃ¼r hamburgerbutton  MenÃ¼ hinzufÃ¼gen & die nav List ergÃ¤nzen!!! <br>

>>> Wettermodul Box designen!!!
-->


<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Personalisierte FreizeitvorschlÃ¤ge</title>

  <!-- Dein CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!--  <style>
	/* Nur fÃ¼r Demo / Lernen */
	#wetterModul p {
	  margin: 4px 0;
	}
  </style> -->
  
  
</head>
<body>

  <!-- Hamburger Icon -->
  <div class="hamburger" id="hamburger">&#9776;</div>

  <!-- SeitenmenÃ¼ -->
  <div id="sideMenu" class="side-menu">

<!-- Pfeil <div class="close-btn" id="closeBtn">&#10145;</div> -->

<!-- Button mit Font Awesome Icon -->
<div class="close-btn" id="closeBtn"><i class="fa fa-arrow-left"></i></div>

<nav>
  <a href="home.html">ğŸ  Startseite</a>
  <a href="ideen.html">ğŸ’¡ Freizeitideen</a>
  <a href="veranstaltungen.html">ğŸ“… Veranstaltungen</a>
  <a href="freizeitplaner.html">ğŸ“‹ Freizeitplaner</a>
  <a href="geheimtipps.html">ğŸ” GeheimTipps</a>
  <a href="blog.html">ğŸ“ Blog</a>
</nav>
  </div>
  


<h1>âœ¨ Personalisierte FreizeitvorschlÃ¤ge</h1>

<!-- ========================= -->
<!-- WETTER MODUL -->
<!-- ========================= -->
<div id="wetterModul" style="background:#e0f7fa; padding:20px; margin-bottom:20px; border-radius:10px; max-width:400px;">
  <h2>Wetter an deinem Standort</h2>

  <!-- ğŸ”§ GEÃ„NDERT:
	   p â†’ div, damit wir mehrere Zeilen mit HTML ausgeben kÃ¶nnen -->
  <div id="wetterText">Wird geladenâ€¦</div>

  <div id="wetterIcon" style="font-size:48px; margin-top:10px;"></div>

<!-- </strong> -->

  <p id="stadtName" style="margin-top:10px;"></p>
</div>

<!-- ========================= -->
<!-- FILTER FORMULAR -->
<!-- ========================= -->
<form id="filter-form">

<!-- ORT -->
  <div class="filter-dropdown2">
	<button type="button" class="dropdown-toggle">Ort auswÃ¤hlen</button>
	<div class="dropdown-menu">
	  <label><input type="checkbox" value="wasser"> Am Wasser</label>
	  <label><input type="checkbox" value="natur"> In der Natur</label>
	  <label><input type="checkbox" value="indoor-outdoor"> Indoor/Outdoor</label>
	  <label><input type="checkbox" value="barrierefrei"> Barrierefrei</label>
	</div>
  </div>

<!-- ZIELGRUPPE-->
  <div class="filter-dropdown2">
	<button type="button" class="dropdown-toggle">Zielgruppe</button>
	<div class="dropdown-menu">
	  <label><input type="checkbox" value="kind">Kinder</label>
	  <label><input type="checkbox" value="jugendlich">Jugendliche</label>
	  <label><input type="checkbox" value="erwachsen">Erwachsene</label>
	 <label><input type="checkbox" value="senior">Senioren</label>
	  <label><input type="checkbox" value="familie">Familien</label>
	 <label><input type="checkbox" value="paar">Paare</label>
	<label><input type="checkbox" value="gruppe">Gruppem</label>
	 <label><input type="checkbox" value="allein">Alleine</label>
	</div>
  </div>

<!-- BUDGET -->
  <div class="filter-dropdown2">
	<button type="button" class="dropdown-toggle">Budget auswÃ¤hlen</button>
	<div class="dropdown-menu">
	  <label><input type="checkbox" value="kostenlos"> Kostenlos</label>
	  <label><input type="checkbox" value="guenstig"> GÃ¼nstig</label>
	  <label><input type="checkbox" value="mittel"> MittelmÃ¤ÃŸig</label>
	  <label><input type="checkbox" value="teuer"> Teuer</label>
	</div>
  </div>

<!-- Wetter -->
  <div class="filter-dropdown2">
	<button type="button" class="dropdown-toggle">Wetter auswÃ¤hlen</button>
	<div class="dropdown-menu">
	  <label><input type="checkbox" value="regen"> Regenwetter</label>
	  <label><input type="checkbox" value="gut"> Gutes Wetter</label>
	  <label><input type="checkbox" value="warm"> Warm</label>
	</div>
  </div>
 
 
 <!-- erste vier Ende-->

<!-- THEMEN -->

  <div class="filter-dropdown2">
	<button type="button" class="dropdown-toggle">Themen auswÃ¤hlen</button>
	<div class="dropdown-menu">
	  <label><input type="checkbox" value="kunst"> Kunst</label>
	  <label><input type="checkbox" value="geschichte"> Geschichte</label>
	  <label><input type="checkbox" value="musik"> Musik</label>
	  <label><input type="checkbox" value="technik"> Technik</label>
	  <label><input type="checkbox" value="sport"> Sport</label>
	  <label><input type="checkbox" value="essenTrinken"> Essen & Trinken</label>
	  <label><input type="checkbox" value="film"> Film</label>
	</div>
  </div>
  
  <!-- Barrierefreiheit -->

  <div class="filter-dropdown2">
	<button type="button" class="dropdown-toggle">Barrierefreiheit</button>
	<div class="dropdown-menu">
	  <label><input type="checkbox" value="rollstuhl">Rollstuhlgerecht</label>
	  <label><input type="checkbox" value="gebÃ¤rde">GebÃ¤rdensprachen</label>
	  <label><input type="checkbox" value="visuelles">visuelle Hilfen</label>
	  <label><input type="checkbox" value="umgebung">ruhige Umgebung</label>
	</div>
  </div>
  
<!--  ZEIT UND DAUER -->

  <div class="filter-dropdown2">
	<button type="button" class="dropdown-toggle">Zeit & Dauer</button>
	<div class="dropdown-menu">
	  <label><input type="checkbox" value="kunst"> Kunst</label><br>
	  <label><input type="checkbox" value="geschichte"> Geschichte</label><br>
	  <label><input type="checkbox" value="musik"> Musik</label><br>
	  <label><input type="checkbox" value="technik"> Technik</label><br>
	  <label><input type="checkbox" value="sport"> Sport</label><br>
	  <label><input type="checkbox" value="essenTrinken"> Essen & Trinken</label><br>
	  <label><input type="checkbox" value="film"> Film</label>
	</div>
  </div>

<!-- ERREICHBARKEIT -->

  <div class="filter-dropdown2">
	<button type="button" class="dropdown-toggle">Erreichbarkeit</button>
	<div class="dropdown-menu">
	  <label><input type="checkbox" value="rollstuhl">Rollstuhlgerecht</label>
	  <label><input type="checkbox" value="gebÃ¤rde">GebÃ¤rdensprachen</label>
	  <label><input type="checkbox" value="visuelles">visuelle Hilfen</label>
	  <label><input type="checkbox" value="umgebung">ruhige Umgebung</label>
	</div>
  </div>
  
  

  <div class="filter-submit2">
	<button type="submit">Filtern</button>
  </div>

</form>

<!-- ========================= -->
<!-- ERGEBNISSE -->
<!-- ========================= -->
<div class="results" id="results">
  <h2>Deine VorschlÃ¤ge:</h2>
  <div id="suggestions-list">
	<p>âš¡ Noch keine Auswahl â€“ bitte Filter setzen.</p>
  </div>
</div>


<!-- ========================= -->
<!-- JAVASCRIPT -->
<!-- ========================= -->


  <script>
	// DOM-Elemente holen
	const hamburger = document.getElementById('hamburger');
	const sideMenu = document.getElementById('sideMenu');
	const closeBtn = document.getElementById('closeBtn');

	// MenÃ¼ Ã¶ffnen
	hamburger.addEventListener('click', () => {

	sideMenu.style.display = 'flex';
	  // Timeout sorgt dafÃ¼r, dass der Ãœbergang sichtbar wird
	  setTimeout(() => {
		sideMenu.classList.add('open');
	  }, 10);
	});
	  //sideMenu.classList.add('open'); }); //

	

	// MenÃ¼ schlieÃŸen
closeBtn.addEventListener('click', () => {
	  sideMenu.classList.remove('open');

	
	setTimeout(() => {
sideMenu.style.display = 'none';
	  }, 300); // Warte bis Ãœbergang abgeschlossen ist
	
	});
	
	</script>
	
	
<script>

/* =========================
   DROPDOWN LOGIK
========================= */
document.querySelectorAll('.dropdown-toggle').forEach(button => {
  button.addEventListener('click', () => {
	const menu = button.nextElementSibling;
	menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
  });
});

document.addEventListener('click', (e) => {
  document.querySelectorAll('.filter-dropdown2').forEach(dropdown => {
	if (!dropdown.contains(e.target)) {
	  const menu = dropdown.querySelector('.dropdown-menu');
	  if (menu) menu.style.display = 'none';
	}
  });
});

/* =========================
   WETTER LADEN
========================= */
async function ladeWetter() {

  if (!navigator.geolocation) {
	document.getElementById("wetterText").innerText =
	  "Standortzugriff nicht verfÃ¼gbar.";
	return;
  }

  navigator.geolocation.getCurrentPosition(async pos => {

	const lat = pos.coords.latitude;
	const lon = pos.coords.longitude;

	/* ===== Ort bestimmen ===== */
	try {
	  const resGeo = await fetch(
		`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json`
	  );
	  const dataGeo = await resGeo.json();

	  const stadt =
		dataGeo.address.city ||
		dataGeo.address.town ||
		dataGeo.address.village ||
		"deinem Standort";

	  document.getElementById("stadtName").innerText = `Ort: ${stadt}`;

	} catch {
	  document.getElementById("stadtName").innerText = "Ort: Unbekannt";
	}

	/* ===== Wetterdaten ===== */
	try {
	  const res = await fetch(
		`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`
	  );
	  const data = await res.json();
	  const weather = data.current_weather;

	  const temp = weather.temperature;
	  const wind = weather.windspeed;
	  const code = weather.weathercode;

	  /* Wetter-Beschreibung */
	  let condition = "Unbekannt";
	  let icon = "â“";

	  if (code === 0) {
		condition = "Klar";
		icon = "â˜€ï¸";
	  } else if ([1,2,3].includes(code)) {
		condition = "BewÃ¶lkt";
		icon = "â›…";
	  } else if ([61,63,65].includes(code)) {
		condition = "Regen";
		icon = "ğŸŒ§ï¸";
	  } else if ([71,73,75].includes(code)) {
		condition = "Schnee";
		icon = "ğŸŒ¨ï¸";
	  } else if ([95,96,99].includes(code)) {
		condition = "Gewitter";
		icon = "â›ˆï¸";
	  }

	  /* ğŸ”§ WICHTIG:
		 innerHTML â†’ mehrere Zeilen untereinander */
	  document.getElementById("wetterText").innerHTML = `
		<p><strong>Temperatur:</strong> ${temp} Â°C</p>
		<p>Wind: ${wind} km/h</p>
		<p>Wetter: ${condition}</p>
	  `;

	  document.getElementById("wetterIcon").innerText = icon;

	} catch (err) {
	  document.getElementById("wetterText").innerText =
		"Wetter konnte nicht geladen werden.";
	}

  }, () => {
	document.getElementById("wetterText").innerText =
	  "Standortfreigabe verweigert.";
  });
}

ladeWetter();

/* =========================
   BEISPIEL AKTIVITÃ„TEN
========================= */
const activities = [
  {
	id: 1,
	title: "Spaziergang im Stadtpark",
	description: "GenieÃŸe Natur mitten in der Stadt.",
	location: "natur",
	budget: "kostenlos",
	themes: ["natur", "bewegung"],
	weather: ["gut","warm"]
  },
  {
	id: 2,
	title: "Besuch im Technikmuseum",
	description: "Interaktive Ausstellungen und Demos.",
	location: "indoor-outdoor",
	budget: "teuer",
	themes: ["technik","kultur"],
	weather: ["regen","gut","warm"]
  },
  {
	id: 3,
	title: "Open-Air-Kino am Fluss",
	description: "Filmabend unter freiem Himmel.",
	location: "wasser",
	budget: "guenstig",
	themes: ["film","essenTrinken"],
	weather: ["gut","warm"]
  }
];

/* =========================
   FILTER LOGIK
========================= */
function getCheckedValues() {
  return Array.from(
	document.querySelectorAll('input[type="checkbox"]:checked')
  ).map(cb => cb.value);
}

function loadRecommendations() {
  const selected = getCheckedValues();

  const results = activities.filter(act =>
	selected.length === 0 ||
	selected.includes(act.location) ||
	selected.includes(act.budget) ||
	act.themes.some(t => selected.includes(t)) ||
	act.weather.some(w => selected.includes(w))
  );

  renderSuggestions(results);
}

function renderSuggestions(items) {
  const container = document.getElementById('suggestions-list');
  container.innerHTML = '';

  if (items.length === 0) {
	container.innerHTML =
	  '<p>Keine VorschlÃ¤ge zu deinen Filtern gefunden.</p>';
	return;
  }

  items.forEach(item => {
	const card = document.createElement('div');
	card.className = 'suggestion-card';
	card.innerHTML = `
	  <h3>${item.title}</h3>
	  <p>${item.description}</p>
	  <p><strong>Themen:</strong> ${item.themes.join(', ')}</p>
	`;
	container.appendChild(card);
  });
}

document.getElementById('filter-form')
  .addEventListener('submit', e => {
	e.preventDefault();
	loadRecommendations();
  });

</script>

</body>
</html>
